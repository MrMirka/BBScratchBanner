(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const o=document.getElementById("app"),f=o.getContext("2d",{willReadFrequently:!0}),a=new Image;a.src="front.png";a.onload=function(){console.log(a),f.drawImage(a,0,0,o.width,o.height),o.addEventListener("mousemove",p),o.addEventListener("mousedown",g),o.addEventListener("mouseup",m),o.addEventListener("touchmove",p),o.addEventListener("touchstart",g),o.addEventListener("touchend",m)};a.onerror=function(){console.error("Failed to load top image")};const l=new Image;l.src="mask.png";let h=!1,u,d,y=!0;function g(t){h=!0;const c=o.getBoundingClientRect();u=(t.clientX||t.touches[0].clientX)-c.left,d=(t.clientY||t.touches[0].clientY)-c.top}function m(){h=!1,E()}function p(t){if(!h)return;const c=o.getBoundingClientRect(),s=(t.clientX||t.touches[0].clientX)-c.left,r=(t.clientY||t.touches[0].clientY)-c.top;f.globalCompositeOperation="destination-out";const e=Math.hypot(s-u,r-d),n=Math.atan2(r-d,s-u);for(let i=0;i<e;i+=l.width/4){const w=Math.cos(n)*i,L=Math.sin(n)*i;f.drawImage(l,s-w-l.width/2,r-L-l.height/2)}u=s,d=r}function E(){const t=f.getImageData(0,0,o.width,o.height).data;let c=0;for(let r=3;r<t.length;r+=4)t[r]>0&&c++;c/(o.width*o.height)*100<85&&y&&I()}function I(){y=!1;const t=document.querySelector(".button");t?t.id="show":console.error('Element with class "button" not found.')}
